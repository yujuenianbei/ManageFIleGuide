<!doctype html>
<html lang="en-US">
<header>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
</header>

<body>
    <button id="aa" role="get-code">1</button>
    <button id="aa" role="get-code1">2</button>
    <button id="aa" role="get-code2">3</button>
    <script>
        $('button[role="get-code"]').click(function () {
            // console.log($('button[role="get-code"]').val())
            // var time = parseInt("Please try again after 5 s".match(/\d+/ig)[0]);
            // if (time > 0) {
            //     clearInterval(settimer);
            //     var settimer = setInterval(function () {
            //         // validator.showErrors(errors);
            //         --time;
            //         console.log(time);
            //         if (time === 0) {
            //             clearInterval(settimer)
            //             return false;
            //         }
            //     }, 1000)
            // } else {
            //     // validator.resetForm();
            //     // validator.reset();
            // }

            // var settimer;
            // var time = parseInt("Please try again after 5 s".match(/\d+/ig)[0]);
            // if (time && time > 0) {
            //     // $('button[role="get-code"]').attr("disabled", "disabled");
            //     clearInterval(settimer);
            //     settimer = setInterval(function () {
            //         console.log(time)
            //         // errors['mobile'] = 'Please try again after ' + time + ' s';
            //         // validator.showErrors(errors);
            //         if (time === 0) {
            //             // $('button[role="get-code"]').removeAttr("disabled");
            //             clearInterval(settimer);
            //             // validator.resetForm();
            //             // validator.reset();
            //             return false;
            //         }
            //         --time;
            //     }, 1000)
            // } else {
            //     errors['mobile'] = response.message;
            // }
            var app = (function () {
                test = function () {
                    alert(1);
                };
                init = function () {
                    alert(2)
                };
                return {
                    test: test,
                    init: init
                };
            });
            app().test()
        })
        // function ajax1() {
        //     var defer = $.Deferred();
        //     $.ajax({
        //         url: "http://localhost:3000/api/videoList",
        //     }).done(
        //         function (data) {
        //             console.log(data);
        //             defer.resolve(1);
        //         }
        //     ).fail(
        //         function () {
        //             alert("出错啦！");
        //         }
        //     );;
        //     return defer.promise(); //就在这里调用
        // }
        // function ajax2(value) {
        //     var defer = $.Deferred();
        //     setTimeout(function (value) {
        //         $.ajax({
        //             url: "http://localhost:3000/api/songList",
        //         }).done(
        //             function (data) {
        //                 console.log(data);
        //                 defer.resolve(value + 1);
        //             }
        //         ).fail(
        //             function () {
        //                 alert("出错啦！");
        //             }
        //         );
        //     }, 4000)
        //     return defer.promise(); //就在这里调用
        // }
        // function ajax3(value) {
        //     var defer = $.Deferred();
        //     $.ajax({
        //         url: "http://localhost:3000/api/videoList",
        //     }).done(
        //         function (data) {
        //             console.log(data);
        //             defer.resolve(value + 1);
        //         }
        //     ).fail(
        //         function () {
        //             alert("出错啦！");
        //         }
        //     );;
        //     return defer.promise(); //就在这里调用
        // }

        // (function () {
        //     $.when(ajax1()).then(function (value) {
        //         return ajax2(value)
        //     }).then(function (value) {
        //         return ajax3(value)
        //     })
        // })()    
    </script>
</body>

</html>